### Работа с таблицами
##### Создание таблицы
            CREATE TABLE

##### Изменение свойств таблицы

Смена схемы в которой размещена таблица (логическое перемещение). Перемещение данных не происходит, изменения происходит в системном каталоге.

            ALTER TABLE <name_table> SET SCHEMA <name_schema> ; 
            
 Смена табличного пространсва в которой размещена таблица (физическое перемещение).Это требует иксклюзивной блокировки таблицы           
            
            ALTER TABLE <name_table> SET tablespace <name_ts>; 

##### Удаление таблицы
            DROP TABLE <name_table>;
            
[Примеры работы с таблицами](https://github.com/Aleksey-10081967/Postgresql-study/blob/main/psql_query/tables/examples/work_tables.md)         
            
### TOAST таблицы

[Поиск родительской таблицы для TOAST таблицы](https://github.com/Aleksey-10081967/Postgresql-study/blob/main/query/files/tables.md#%D0%BF%D0%BE%D0%B8%D1%81%D0%BA-%D1%82%D0%B0%D0%B1%D0%BB%D0%B8%D1%86%D1%8B-%D0%BA%D0%BE%D1%82%D0%BE%D1%80%D0%BE%D0%B9-%D1%81%D0%BE%D0%BE%D1%82%D0%B2%D0%B5%D1%81%D1%82%D0%B2%D1%83%D0%B5%D1%82-%D0%BE%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%BD%D0%B0%D1%8F-toast-%D1%82%D0%B0%D0%B1%D0%BB%D0%B8%D1%86%D0%B0)

### Временные таблицы

PostgreSQL умеет работать с временными таблицами. Такие таблицы предназначены для хранения данных, которые должны быть доступны 
только текущему сеансу (и только на время его жизни, или даже на время текущей транзакции).

Временные таблицы являются нежурналируемыми. Это означает, что в случае сбоя таблица не может быть восстановлена с помощью 
журнала. Вместо этого будет очищена. Кроме того, страницы таких таблиц не попадают в общий буферный кеш — работа с ними ведется 
во внутренней памяти обслуживающего процесса. Благодаря этому, работа с временной таблицей происходит несколько более 
эффективно, чем с обычной.

Временные таблицы организованы с помощью схем. Для сеанса создается временная схема с именем pg_temp_N (pg_temp_1, pg_temp_2 и т. п.). 
Обращаться к ней нужно по имени pg_temp (без номера) — для каждого сеанса это имя ссылается на конкретную временную схему.
Если pg_temp нет в пути, то эта схема просматривается перед всеми остальными. При желании можно указать схему pg_temp (как и pg_catalog) явно на нужном месте.


1. Временные таблицы автоматически удаляются в конце сеанса или могут удаляться в конце текущей транзакции

2. Временные таблицы создаются в специальной схеме, так что при создании таких таблиц имя схемы задать нельзя

3. Для временных таблиц можно задать параметр ON COMMIT
 
Возможные значения:
     
  PRESERVE ROWS - никакие действия по завершении транзакции не выполняются (по умолчанию)
        
  DELETE ROWS   - при фиксации или отмене транзакции таблица очищается
        
  DROP          - при фиксации или отмене транзакции таблица удаляется 
  
  Настройки, сделанные командой ALTER DATABASE, сохраняются в таблице pg_db_role_setting. Их можно посмотреть в psql следующей командой:

            => \drds

                         List of settings
             Role |    Database    |     Settings      
            ------+----------------+-------------------
                  | data_databases | temp_buffers=32MB
            (1 row)            


